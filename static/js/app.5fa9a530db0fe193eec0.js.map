{"version":3,"sources":["webpack:///src/components/header.vue","webpack:///./src/components/header.vue?0eaa","webpack:///./src/components/header.vue","webpack:///./src/components/footer.vue?2768","webpack:///./src/components/footer.vue","webpack:///src/App.vue","webpack:///src/components/footer.vue","webpack:///./src/App.vue?8542","webpack:///./src/App.vue","webpack:///./src/api/auth.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/blog.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/helpers/utils.js","webpack:///./src/main.js","webpack:///./src/helpers/request.js"],"names":["header","name","data","computed","extends_default","Object","vuex_esm","methods","onLogout","_this","this","logout","then","element_ui_common","success","$router","push","path","localStorage","removeItem","created","checkLogin","components_header","render","_vm","_h","$createElement","_c","_self","class","login","isLogin","no-login","staticClass","attrs","to","_v","src","user","avatar","alt","username","title","link","on","click","_e","staticRenderFns","components_footer","_m","App","components","Header","__webpack_require__","normalizeComponent","ssrContext","Footer","footer_normalizeComponent","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","URL","auth","register","_ref","password","request","_ref2","getInfo","modules_auth","state","getters","mutations","setUser","payload","setIsLogin","actions","commit","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","sent","abrupt","stop","_ref3","_this2","_callee2","_context2","_ref4","_ref5","_this3","_callee3","_context3","_ref6","_this4","_callee4","_context4","t0","blog","Vue","use","Vuex","store","Store","modules","Router","router","routes","component","Promise","all","e","bind","meta","requireAuth","beforeEach","from","matched","some","i","dispatch","query","redirect","fullPath","friendlyDate","dateStr","dateObj","Date","space","now","getTime","str","Math","floor","utils","install","options","prototype","window","Utils","ElementUI","config","productionTip","el","template","url","method","arguments","length","undefined","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","option","toLowerCase","params","axios","defaults","headers","common","token","status","Message","error","msg","catch","err","post","baseURL"],"mappings":"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","file":"static/js/app.5fa9a530db0fe193eec0.js","sourcesContent":["<template>\n  <header :class=\"{ login: isLogin, 'no-login': !isLogin }\">\n    <template v-if=\"isLogin\">\n      <router-link to=\"/\" class=\"logo\">BLOG SHARE</router-link>\n      <div class=\"right\">\n        <router-link class=\"active\" to=\"/\">首页</router-link>\n        <router-link to=\"/create\">\n          <i class=\"edit el-icon-edit\"></i>\n          写文章\n        </router-link>\n        <div class=\"avatar\">\n          <!-- <img class=\"avatar\" src=\"../assets/images/avatar.jpeg\" alt :title=\"user.username\" /> -->\n          <div class=\"img-wrapper\">\n            <img\n              :src=\"user.avatar\"\n              :alt=\"user.username\"\n              :title=\"user.username\"\n            />\n          </div>\n          <ul>\n            <li><router-link to=\"/my\">我的</router-link></li>\n            <li><a link=\"#\" @click=\"onLogout\">注销</a></li>\n          </ul>\n        </div>\n      </div>\n    </template>\n    <template v-if=\"!isLogin\">\n      <h1>Let's share</h1>\n      <p>show your ideas</p>\n      <div class=\"btns\">\n        <router-link to=\"/login\"><el-button>立即登录</el-button></router-link>\n        <router-link to=\"/register\"\n          ><el-button>注册账号</el-button></router-link\n        >\n      </div>\n    </template>\n  </header>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { Message } from 'element-ui'\nexport default {\n  name: 'Header',\n  data() {\n    return {}\n  },\n  computed: {\n    ...mapGetters(['user', 'isLogin']),\n  },\n  methods: {\n    ...mapActions(['logout', 'checkLogin']),\n    onLogout() {\n      this.logout().then(()=>{\n        Message.success('注销成功')\n        this.$router.push({path:'/'})\n      })\n      localStorage.removeItem('token')\n    },\n  },\n  created() {\n    this.checkLogin()\n  },\n}\n</script>\n\n<style lang=\"less\">\n@import '../assets/style/base.less';\n\nheader.login {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px;\n  color: @textThemeColor;\n  border-bottom: 1px solid @borderGrayColor;\n  .logo {\n    width: 65%;\n    font-size: 20px;\n    font-weight: 700;\n    padding-left: 12px;\n    text-transform: uppercase;\n    margin-left: 100px;\n    color: @textThemeColor;\n  }\n  .right {\n    width: 30%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    padding-right: 60px;\n    .avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      .img-wrapper {\n        width: 40px;\n        height: 40px;\n      }\n      ul {\n        list-style: none;\n        display: none;\n        text-align: center;\n      }\n      &:hover {\n        ul {\n          display: block;\n        }\n      }\n    }\n    a {\n      color: @textLighterColor;\n      font-weight: 700;\n      text-decoration: none;\n      cursor: pointer;\n      &:hover,\n      &.active {\n        color: @textThemeColor;\n      }\n    }\n  }\n}\nheader.no-login {\n  background: url(../assets/images/b2.jpg);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  padding: 30px 30px 10px;\n  color: white;\n  // height: 350px;\n  h1 {\n    text-transform: uppercase;\n    font-size: 40px;\n    margin: 40px 0 20px;\n  }\n  p {\n    font-size: 18px;\n  }\n  .btns {\n    margin: 60px 0 30px;\n    .el-button {\n      margin: 0 15px;\n      font-size: 14px;\n      // background-color: #ffffffdd;\n    }\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{ login: _vm.isLogin, 'no-login': !_vm.isLogin }},[(_vm.isLogin)?[_c('router-link',{staticClass:\"logo\",attrs:{\"to\":\"/\"}},[_vm._v(\"BLOG SHARE\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('router-link',{staticClass:\"active\",attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/create\"}},[_c('i',{staticClass:\"edit el-icon-edit\"}),_vm._v(\"\\n        写文章\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"avatar\"},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":_vm.user.username,\"title\":_vm.user.username}})]),_vm._v(\" \"),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/my\"}},[_vm._v(\"我的\")])],1),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"link\":\"#\"},on:{\"click\":_vm.onLogout}},[_vm._v(\"注销\")])])])])],1)]:_vm._e(),_vm._v(\" \"),(!_vm.isLogin)?[_c('h1',[_vm._v(\"Let's share\")]),_vm._v(\" \"),_c('p',[_vm._v(\"show your ideas\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('el-button',[_vm._v(\"立即登录\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('el-button',[_vm._v(\"注册账号\")])],1)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21e1e04a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21e1e04a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21e1e04a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('p',[_vm._v(\"©2020.03 liuxiaoxiao blog-share\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-451c64b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/footer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-451c64b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./footer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-451c64b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./footer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-451c64b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footer.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Header id=\"header\"></Header>\n    <main id=\"main\">\n      <router-view />\n    </main>\n    <Footer id=\"footer\"></Footer>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/header'\nimport Footer from '@/components/footer'\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer,\n  },\n}\n</script>\n\n<style lang=\"less\">\n@import './assets/style/common.less';\n\n#app {\n  display: grid;\n  grid-template-columns: 12% auto 12%;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas:\n    'header header header'\n    '.      main   .     '\n    'footer footer footer';\n\n  #header {\n    grid-area: header;\n  }\n  #main {\n    grid-area: main;\n  }\n  #footer {\n    grid-area: footer;\n  }\n\n  @media (max-width: 768px) {\n    #app {\n      grid-template-columns: 10px auto 10px;\n\n      #header,\n      #footer {\n        padding-left: 10px;\n        padding-right: 10px;\n      }\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <footer>\n    <p>&copy;2020.03 liuxiaoxiao blog-share</p>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: \"Footer\"\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"../assets/style/base.less\";\nfooter {\n  padding: 20px;\n  p {\n    text-align: center;\n    color: @textLighterColor;\n  }\n  \n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/footer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{attrs:{\"id\":\"header\"}}),_vm._v(\" \"),_c('main',{attrs:{\"id\":\"main\"}},[_c('router-view')],1),_vm._v(\" \"),_c('Footer',{attrs:{\"id\":\"footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-412bb3c6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-412bb3c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-412bb3c6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// 认证相关接口\n\nimport request from '@/helpers/request.js'\n\nconst URL = {\n  REGISTER: '/auth/register',\n  LOGIN: '/auth/login',\n  LOGOUT: '/auth/logout',\n  GET_INFO: '/auth'\n}\n\nexport default {\n  register({ username, password }) {\n    return request(URL.REGISTER, 'POST', { username, password })\n  },\n  login({ username, password }) {\n    return request(URL.LOGIN, 'POST', { username, password })\n  },\n  logout() {\n    return request(URL.LOGOUT,'GET')\n  },\n  getInfo() {\n    return request(URL.GET_INFO,'GET')\n  },\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/auth.js","import auth from \"@/api/auth\"\n\nconst state = {\n  user: null,\n  isLogin: false\n}\nconst getters = {\n  user: (state) => { return state.user },\n  isLogin: (state) => { return state.isLogin },\n}\nconst mutations = {\n  setUser(state, payload) {\n    state.user = payload.user\n  },\n  setIsLogin(state, payload) {\n    state.isLogin = payload.isLogin\n  }\n}\nconst actions = {\n  async login({ commit }, { username, password }) {\n    let res = await auth.login({ username, password })\n    commit('setUser', { user: res.data })\n    commit('setIsLogin', { isLogin: true })\n    return res.data\n  },\n  async logout({commit}) {\n    await auth.logout()\n    commit('setUser', { user: null })\n    commit('setIsLogin', { isLogin: false })\n\n  },\n  async register({ commit }, { username, password }) {\n    let res = await auth.register({ username, password })\n    // commit('setUser', { user: res.data })\n    // commit('setIsLogin', { isLogin: true })\n    return res.data\n  },\n  async checkLogin({ commit, state }) {\n    if (state.isLogin) return true\n    try{\n      let res = await auth.getInfo()\n      commit('setIsLogin', { isLogin: res.isLogin })\n      commit('setUser', { user: res.data })\n      return true\n    }catch(err){\n      return false\n    }\n  },\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","const state = {\n  \n}\nconst getters = {}\nconst mutations = {}\nconst actions = {}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/blog.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth from './modules/auth'\nimport blog from './modules/blog'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules:{\n    auth,\n    blog\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from \"vue\";\nimport Router from \"vue-router\";\n\nimport store from \"../store\";\n\nVue.use(Router);\n\nconst router = new Router({\n  routes: [\n    {\n      path: \"/\",\n      component: () => import(\"@/pages/Index/template.vue\")\n    },\n    {\n      path: \"/my\",\n      component: () => import(\"@/pages/my/template.vue\"),\n      meta: { requireAuth: true }\n    },\n    {\n      path: \"/login\",\n      component: () => import(\"@/pages/login/template.vue\")\n    },\n    {\n      path: \"/register\",\n      component: () => import(\"@/pages/register/template.vue\")\n    },\n    {\n      path: \"/create\",\n      component: () => import(\"@/pages/create/template.vue\"),\n      meta: { requireAuth: true }\n    },\n    {\n      path: \"/edit/:blogId\",\n      component: () => import(\"@/pages/edit/template.vue\"),\n      meta: { requireAuth: true }\n    },\n    {\n      path: \"/user/:userId\",\n      component: () => import(\"@/pages/user/template.vue\")\n    },\n    {\n      path: \"/detail/:blogId\",\n      component: () => import(\"@/pages/detail/template.vue\"),\n      meta: { requireAuth: true }\n    }\n  ]\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(i => i.meta.requireAuth)) {\n    store.dispatch('checkLogin').then((isLogin) => {\n      if (!isLogin) {\n        next({\n          path: '/login',\n          query: { redirect: to.fullPath }\n        })\n      } else {\n        next()\n      }\n    })\n    /**\n     * 下面的方法中直接使用store.getters.isLogin判断存在问题：刷新页面时，已经登录的情况可能也会跳转至登录页\n     * 这是因为store数据是保存在运行内存中的，当页面刷新时，会重新加载vue实例，store也会被重新初始化\n     * 这时会在header中调用checklogin，异步检查isLogin赋值，所以又会跳转到登录页\n     *\n     * if (!store.getters.isLogin) { \n     * next({ path: \"/login\", query: { redirect: to.fullPath } })\n     * }else{\n     * next()\n     * }\n     */\n  } else {\n    next();\n  }\n});\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function friendlyDate(dateStr) {\n  let dateObj = typeof dateStr === \"Object\" ? dateStr : new Date(dateStr);\n  let space = Date.now() - dateObj.getTime();\n  let str = \"\";\n  switch (true) {\n    case space < 1000 * 60:\n      str = \"刚刚\";\n      break;\n    case space < 1000 * 60 * 60:\n      str = Math.floor(space / (1000 * 60)) + \"分钟前\";\n      break;\n    case space < 1000 * 60 * 60 * 24:\n      str = Math.floor(space / (1000 * 60 * 60)) + \"小时前\";\n      break;\n    case space < 1000 * 60 * 60 * 24 * 7:\n      str = Math.floor(space / (1000 * 60 * 60 * 24)) + \"天前\";\n      break;\n    case space < 1000 * 60 * 60 * 24 * 30:\n      str = Math.floor(space / (1000 * 60 * 60 * 24 * 7)) + \"周前\";\n      break;\n    case space < 1000 * 60 * 60 * 24 * 30 * 12:\n      str = Math.floor(space / (1000 * 60 * 60 * 24 * 30)) + \"个月前\";\n      break;\n    default:\n      str = Math.floor(space / (1000 * 60 * 60 * 24 * 30 * 12)) + \"年前\";\n  }\n  return str;\n}\nexport default {\n  install(Vue, options) {\n    Vue.prototype.friendlyDate = friendlyDate;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/utils.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport auth from './api/auth'\nwindow.auth = auth\n// element-ui\n\nimport Utils from './helpers/utils'\nVue.use(Utils)\nVue.use(ElementUI);\n\nimport store from './store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// 封装axios\n\nimport axios from 'axios'\nimport { Message } from 'element-ui'\n\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded;charset=utf-8'\naxios.defaults.baseURL = 'https://blog-server.hunger-valley.com'\n// axios.defaults.withCredentials = true\n\nexport default function request(url, method = 'GET', data = {}) {\n    return new Promise((resolve, reject) => {\n        let option = {\n            url,\n            method\n        }\n        if (method.toLowerCase() === 'get') {\n            option.params = data\n        } else {\n            option.data = data\n        }\n        axios.defaults.headers.common['Authorization'] = localStorage.token\n        axios(option).then(res => {\n            if (res.data.status === 'ok') {\n                if(res.data.token){\n                    localStorage.token = res.data.token\n                }\n\n                resolve(res.data)\n            } else {\n                Message.error(res.data.msg)\n                reject(res.data)\n            }\n        }).catch(err => {\n            Message.error('网络异常')\n            reject({ msg: '网络异常' })\n        })\n    })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/request.js"],"sourceRoot":""}